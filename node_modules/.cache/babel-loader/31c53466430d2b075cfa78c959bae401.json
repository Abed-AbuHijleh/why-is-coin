{"ast":null,"code":"import _regeneratorRuntime from\"/Users/abed/Documents/Productivity/why-is-coin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/abed/Documents/Productivity/why-is-coin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/abed/Documents/Productivity/why-is-coin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';// eslint-disable-next-line\nimport{useParams}from'react-router-dom';import TickerNotFound from'../resources/images/ticker-not-found.png';import TopSearch from'../components/top-search/top-search.jsx';import TickerNews from'../components/ticker-news/ticker-news.jsx';import TickerInfo from'../components/ticker-info/ticker-info.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Ticker=function Ticker(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),badTicker=_useState2[0],setBadTicker=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var fetchTickerData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(symbol){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return new XMLHttpRequest();case 2:res=_context.sent;res.onload=apiSucc;res.onerror=console.log();res.open('GET','https://why-is-coin-api.herokuapp.com/data/ticker?ticker='+symbol);res.send();case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchTickerData(_x){return _ref.apply(this,arguments);};}();function apiSucc(){try{setData(JSON.parse(this.responseText));setLoading(false);}catch(e){setLoading(false);setBadTicker(true);}}useEffect(function(){fetchTickerData(id);// eslint-disable-next-line\n},[]);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(TopSearch,{data:data}),loading?/*#__PURE__*/_jsx(\"h1\",{children:\"Loading\"}):/*#__PURE__*/_jsx(React.Fragment,{children:badTicker?/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'80vh',display:'flex',justifyContent:'center',alignItems:'center',zIndex:10},children:/*#__PURE__*/_jsx(\"img\",{alt:\"ticker not found\",src:TickerNotFound,style:{width:'min(600px, 90vw)'}})}):/*#__PURE__*/_jsxs(\"div\",{style:{overflow:'hidden',backgroundColor:'RGB(70, 69, 69)'},children:[/*#__PURE__*/_jsx(TickerNews,{data:[data.pc_day,data.name]}),/*#__PURE__*/_jsx(TickerInfo,{data:data})]})})]});};export default Ticker;","map":{"version":3,"sources":["/Users/abed/Documents/Productivity/why-is-coin/src/layouts/ticker.jsx"],"names":["React","useState","useEffect","useParams","TickerNotFound","TopSearch","TickerNews","TickerInfo","Ticker","id","badTicker","setBadTicker","data","setData","loading","setLoading","fetchTickerData","symbol","XMLHttpRequest","res","onload","apiSucc","onerror","console","log","open","send","JSON","parse","responseText","e","width","height","display","justifyContent","alignItems","zIndex","overflow","backgroundColor","pc_day","name"],"mappings":"4eAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA;AACA,OAASC,SAAT,KAA0B,kBAA1B,CAEA,MAAOC,CAAAA,cAAP,KAA2B,0CAA3B,CAEA,MAAOC,CAAAA,SAAP,KAAsB,yCAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,2CAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,2CAAvB,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnB,eAAaL,SAAS,EAAtB,CAAMM,EAAN,YAAMA,EAAN,CACA,cAAkCR,QAAQ,CAAC,KAAD,CAA1C,wCAAOS,SAAP,eAAkBC,YAAlB,eACA,eAAwBV,QAAQ,CAAC,EAAD,CAAhC,yCAAOW,IAAP,eAAaC,OAAb,eACA,eAA8BZ,QAAQ,CAAC,IAAD,CAAtC,yCAAOa,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,CAAAA,eAAe,0FAAG,iBAAOC,MAAP,gJACN,IAAIC,CAAAA,cAAJ,EADM,QAClBC,GADkB,eAEtBA,GAAG,CAACC,MAAJ,CAAaC,OAAb,CACAF,GAAG,CAACG,OAAJ,CAAcC,OAAO,CAACC,GAAR,EAAd,CACAL,GAAG,CAACM,IAAJ,CAAS,KAAT,CAAgB,4DAA8DR,MAA9E,EACAE,GAAG,CAACO,IAAJ,GALsB,sDAAH,kBAAfV,CAAAA,eAAe,4CAArB,CAQA,QAASK,CAAAA,OAAT,EAAmB,CACjB,GAAI,CACFR,OAAO,CAACc,IAAI,CAACC,KAAL,CAAW,KAAKC,YAAhB,CAAD,CAAP,CACAd,UAAU,CAAC,KAAD,CAAV,CACD,CAAC,MAAOe,CAAP,CAAU,CACVf,UAAU,CAAC,KAAD,CAAV,CACAJ,YAAY,CAAC,IAAD,CAAZ,CACD,CACF,CAEDT,SAAS,CAAC,UAAM,CACdc,eAAe,CAACP,EAAD,CAAf,CACA;AACD,CAHQ,CAGN,EAHM,CAAT,CAKA,mBACE,MAAC,KAAD,CAAO,QAAP,yBACE,KAAC,SAAD,EAAW,IAAI,CAAEG,IAAjB,EADF,CAEGE,OAAO,cACN,+BADM,cAGN,KAAC,KAAD,CAAO,QAAP,WACGJ,SAAS,cACR,YACE,KAAK,CAAE,CACLqB,KAAK,CAAE,MADF,CAELC,MAAM,CAAE,MAFH,CAGLC,OAAO,CAAE,MAHJ,CAILC,cAAc,CAAE,QAJX,CAKLC,UAAU,CAAE,QALP,CAMLC,MAAM,CAAE,EANH,CADT,uBAUE,YACE,GAAG,CAAC,kBADN,CAEE,GAAG,CAAEhC,cAFP,CAGE,KAAK,CAAE,CAAE2B,KAAK,CAAE,kBAAT,CAHT,EAVF,EADQ,cAkBR,aACE,KAAK,CAAE,CACLM,QAAQ,CAAE,QADL,CAELC,eAAe,CAAE,iBAFZ,CADT,wBAME,KAAC,UAAD,EAAY,IAAI,CAAE,CAAC1B,IAAI,CAAC2B,MAAN,CAAc3B,IAAI,CAAC4B,IAAnB,CAAlB,EANF,cAOE,KAAC,UAAD,EAAY,IAAI,CAAE5B,IAAlB,EAPF,GAnBJ,EALJ,GADF,CAuCD,CApED,CAsEA,cAAeJ,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\n// eslint-disable-next-line\nimport { useParams } from 'react-router-dom'\n\nimport TickerNotFound from '../resources/images/ticker-not-found.png'\n\nimport TopSearch from '../components/top-search/top-search.jsx'\nimport TickerNews from '../components/ticker-news/ticker-news.jsx'\nimport TickerInfo from '../components/ticker-info/ticker-info.jsx'\n\nconst Ticker = () => {\n  let { id } = useParams()\n  const [badTicker, setBadTicker] = useState(false)\n  const [data, setData] = useState([])\n  const [loading, setLoading] = useState(true)\n\n  const fetchTickerData = async (symbol) => {\n    let res = await new XMLHttpRequest()\n    res.onload = apiSucc\n    res.onerror = console.log()\n    res.open('GET', 'https://why-is-coin-api.herokuapp.com/data/ticker?ticker=' + symbol)\n    res.send()\n  }\n\n  function apiSucc() {\n    try {\n      setData(JSON.parse(this.responseText))\n      setLoading(false)\n    } catch (e) {\n      setLoading(false)\n      setBadTicker(true)\n    }\n  }\n\n  useEffect(() => {\n    fetchTickerData(id)\n    // eslint-disable-next-line\n  }, [])\n\n  return (\n    <React.Fragment>\n      <TopSearch data={data} />\n      {loading ? (\n        <h1>Loading</h1>\n      ) : (\n        <React.Fragment>\n          {badTicker ? (\n            <div\n              style={{\n                width: '100%',\n                height: '80vh',\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center',\n                zIndex: 10,\n              }}\n            >\n              <img\n                alt=\"ticker not found\"\n                src={TickerNotFound}\n                style={{ width: 'min(600px, 90vw)' }}\n              />\n            </div>\n          ) : (\n            <div\n              style={{\n                overflow: 'hidden',\n                backgroundColor: 'RGB(70, 69, 69)',\n              }}\n            >\n              <TickerNews data={[data.pc_day, data.name]} />\n              <TickerInfo data={data} />\n            </div>\n          )}\n        </React.Fragment>\n      )}\n    </React.Fragment>\n  )\n}\n\nexport default Ticker\n"]},"metadata":{},"sourceType":"module"}